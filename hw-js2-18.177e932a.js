const e=async e=>{let t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}};try{return await fetch("https://687bab4eb4bc7cfbda86bede.mockapi.io/students",t).then(e=>e.json())}catch(e){console.log(e)}},t=async e=>{try{return await fetch(`https://687bab4eb4bc7cfbda86bede.mockapi.io/students/${e}`,{method:"DELETE"})}catch(e){console.log(e)}},l=async()=>{try{return await fetch("https://687bab4eb4bc7cfbda86bede.mockapi.io/students").then(e=>e.json()).then(e=>{document.querySelector("tbody").innerHTML=e.map(e=>{let t=e.skills.join(", ");return`
      <tr id="${e.id}">
        <td name="id">${e.id}</td>
        <td>${e.name}</td>
        <td>${e.age}</td>
        <td>${e.course}</td>
        <td>${t}</td>
        <td>${e.email}</td>
        <td>${e.isEnrolled}</td>
        <td><button type="button" class="delete-btn">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button></td>
        <td><button type="button" class="update-btn">\u{41E}\u{43D}\u{43E}\u{432}\u{438}\u{442}\u{438}</button></td>
      </tr>
    `}).join("")})}catch(e){console.log(e)}},n=async(e,t)=>{let l={method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}};try{return await fetch(`https://687bab4eb4bc7cfbda86bede.mockapi.io/students/${e}`,l).then(e=>e.json())}catch(e){console.log(e)}};document.querySelector("#get-students-btn").addEventListener("click",async()=>await l()),console.log(void document.querySelector("#add-student-form").addEventListener("submit",async t=>{t.preventDefault();let l=t.target.elements.nameCollect.value,n=t.target.elements.ageCollect.value,a=t.target.elements.courseCollect.value,o=t.target.elements.skillsCollect.value.split(", "),c={name:l,age:n,course:a,skills:o,email:t.target.elements.emailCollect.value,isEnrolled:"on"===t.target.elements.isEnrolledCollect.value};try{await e(c)}catch(e){console.error(e)}})),document.querySelector("tbody").addEventListener("click",async e=>{if("Оновити"===e.target.textContent){let t=e.target.parentElement.parentElement;console.log(t.id),document.querySelector(".backdrop").style.visibility="visible",document.querySelector(".backdrop").style.display="flex",document.querySelector("#update-student-form").addEventListener("submit",async e=>{e.preventDefault();let l=e.target.elements.nameCollect.value,a=e.target.elements.ageCollect.value,o=e.target.elements.courseCollect.value,c=e.target.elements.skillsCollect.value.split(", "),s=e.target.elements.emailCollect.value,r=e.target.elements.isEnrolledCollect.checked;document.querySelector(".backdrop").style.visibility="hidden",document.querySelector(".backdrop").style.display="none";try{await n(t.id,{name:l,age:a,course:o,skills:c,email:s,isEnrolled:r})}catch(e){console.error(e)}})}}),document.querySelector("tbody").addEventListener("click",async e=>{if("Видалити"===e.target.textContent){let n=e.target.parentElement.parentElement;console.log(n.id);try{await t(n.id),await l()}catch(e){console.log(e)}}});
//# sourceMappingURL=hw-js2-18.177e932a.js.map
